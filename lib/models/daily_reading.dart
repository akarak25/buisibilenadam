/// Daily reading model for personalized palm + astrology readings
class DailyReading {
  final bool success;
  final bool hasPalmProfile;
  final String date;
  final Astronomy astronomy;
  final ReadingContent reading;
  final String userName;

  DailyReading({
    required this.success,
    required this.hasPalmProfile,
    required this.date,
    required this.astronomy,
    required this.reading,
    required this.userName,
  });

  factory DailyReading.fromJson(Map<String, dynamic> json) {
    return DailyReading(
      success: json['success'] ?? false,
      hasPalmProfile: json['hasPalmProfile'] ?? false,
      date: json['date'] ?? '',
      astronomy: Astronomy.fromJson(json['astronomy'] ?? {}),
      reading: ReadingContent.fromJson(json['reading'] ?? {}),
      userName: json['userName'] ?? '',
    );
  }
}

/// Astronomy data for the day
class Astronomy {
  final MoonPhase moonPhase;
  final MoonSign moonSign;
  final ActiveLine activeLine;

  Astronomy({
    required this.moonPhase,
    required this.moonSign,
    required this.activeLine,
  });

  factory Astronomy.fromJson(Map<String, dynamic> json) {
    return Astronomy(
      moonPhase: MoonPhase.fromJson(json['moonPhase'] ?? {}),
      moonSign: MoonSign.fromJson(json['moonSign'] ?? {}),
      activeLine: ActiveLine.fromJson(json['activeLine'] ?? {}),
    );
  }
}

class MoonPhase {
  final String phase;
  final String phaseTr;
  final String icon;

  MoonPhase({
    required this.phase,
    required this.phaseTr,
    required this.icon,
  });

  factory MoonPhase.fromJson(Map<String, dynamic> json) {
    return MoonPhase(
      phase: json['phase'] ?? '',
      phaseTr: json['phaseTr'] ?? '',
      icon: json['icon'] ?? 'ðŸŒ™',
    );
  }
}

class MoonSign {
  final String sign;
  final String signTr;
  final String icon;
  final String element;

  MoonSign({
    required this.sign,
    required this.signTr,
    required this.icon,
    required this.element,
  });

  factory MoonSign.fromJson(Map<String, dynamic> json) {
    return MoonSign(
      sign: json['sign'] ?? '',
      signTr: json['signTr'] ?? '',
      icon: json['icon'] ?? 'â™ˆ',
      element: json['element'] ?? '',
    );
  }
}

class ActiveLine {
  final String line;
  final String lineTr;
  final String planet;

  ActiveLine({
    required this.line,
    required this.lineTr,
    required this.planet,
  });

  factory ActiveLine.fromJson(Map<String, dynamic> json) {
    return ActiveLine(
      line: json['line'] ?? '',
      lineTr: json['lineTr'] ?? '',
      planet: json['planet'] ?? '',
    );
  }
}

/// Reading content generated by AI
class ReadingContent {
  final String greeting;
  final String dailyEnergy;
  final String activeLineReading;
  final String moonInfluence;
  final String advice;
  final LuckyElements luckyElements;
  final String? warning;

  ReadingContent({
    required this.greeting,
    required this.dailyEnergy,
    required this.activeLineReading,
    required this.moonInfluence,
    required this.advice,
    required this.luckyElements,
    this.warning,
  });

  factory ReadingContent.fromJson(Map<String, dynamic> json) {
    return ReadingContent(
      greeting: json['greeting'] ?? '',
      dailyEnergy: json['dailyEnergy'] ?? '',
      activeLineReading: json['activeLineReading'] ?? '',
      moonInfluence: json['moonInfluence'] ?? '',
      advice: json['advice'] ?? '',
      luckyElements: LuckyElements.fromJson(json['luckyElements'] ?? {}),
      warning: json['warning'],
    );
  }
}

class LuckyElements {
  final String color;
  final String colorDescription;
  final String number;
  final String numberDescription;
  final String time;
  final String timeDescription;

  LuckyElements({
    required this.color,
    required this.colorDescription,
    required this.number,
    required this.numberDescription,
    required this.time,
    required this.timeDescription,
  });

  factory LuckyElements.fromJson(Map<String, dynamic> json) {
    return LuckyElements(
      color: json['color'] ?? '',
      colorDescription: json['colorDescription'] ?? '',
      number: json['number']?.toString() ?? '',
      numberDescription: json['numberDescription'] ?? '',
      time: json['time'] ?? '',
      timeDescription: json['timeDescription'] ?? '',
    );
  }
}
